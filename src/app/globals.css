@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

:root{
  /* existing tokens â€¦ */
  --brand:#25C3F4;
  --text:#0A0F2C;
  --muted:oklch(0.97 0 0);
  --bg:#F9FAFB;
  --card:oklch(1 0 0);
  --border:oklch(0.922 0 0);
  --radius:0.625rem;

  --sidebar-bg:#061630;                 /* <- requested color */
  --sidebar-text:#ECF5F8;
  --sidebar-muted:#A7BECC;
  --sidebar-active-bg:rgba(37,195,244,.15);
  --sidebar-active-text:#FFFFFF;
  --sidebar-hover-bg:rgba(255,255,255,.06);  /* <- used on hover */
  --sidebar-border:oklch(0.922 0 0);
  --background:oklch(1 0 0);
  --foreground:oklch(0.145 0 0);
  --card-foreground:oklch(0.145 0 0);
  --popover:oklch(1 0 0);
  --popover-foreground:oklch(0.145 0 0);
  --primary:oklch(0.205 0 0);
  --primary-foreground:oklch(0.985 0 0);
  --secondary:oklch(0.97 0 0);
  --secondary-foreground:oklch(0.205 0 0);
  --muted-foreground:oklch(0.556 0 0);
  --accent:oklch(0.97 0 0);
  --accent-foreground:oklch(0.205 0 0);
  --destructive:oklch(0.577 0.245 27.325);
  --input:oklch(0.922 0 0);
  --ring:oklch(0.708 0 0);
  --chart-1:oklch(0.646 0.222 41.116);
  --chart-2:oklch(0.6 0.118 184.704);
  --chart-3:oklch(0.398 0.07 227.392);
  --chart-4:oklch(0.828 0.189 84.429);
  --chart-5:oklch(0.769 0.188 70.08);
  --sidebar:oklch(0.985 0 0);
  --sidebar-foreground:oklch(0.145 0 0);
  --sidebar-primary:oklch(0.205 0 0);
  --sidebar-primary-foreground:oklch(0.985 0 0);
  --sidebar-accent:oklch(0.97 0 0);
  --sidebar-accent-foreground:oklch(0.205 0 0);
  --sidebar-ring:oklch(0.708 0 0);
}

aside a:hover{ background-color: rgba(255,255,255,.06); }

html,body{background:var(--bg);color:var(--text)}

/* Gentle defaults for card-like blocks (border + rounded) */
.card, .panel, .box, .surface {
  padding: 1rem;           /* 16px */
}
/* ===== Mobile Tables: fit within the screen (no horizontal scroll) ===== */
/* ===== Mobile Tables: fit within the screen (no horizontal scroll) ===== */
@media (max-width: 639px) {
  /* Scope to main content so we don't affect other layouts */
  .app-main table {
    width: 100%;
    table-layout: fixed;           /* columns shrink to fit screen */
    border-collapse: collapse;
  }

  .app-main table thead th,
  .app-main table tbody td {
    white-space: normal;           /* allow wrapping for text */
    overflow-wrap: anywhere;       /* wrap long emails/filenames */
    word-break: break-word;
    padding: 0.5rem 0.75rem;       /* compact */
    vertical-align: top;
  }

  .app-main table { 
    font-size: 0.9375rem; 
    line-height: 1.35; 
  }

  /* Keep badges/pills in one line so they don't stack vertically */
  .app-main table .inline-flex.rounded-full,
  .app-main table .badge,
  .app-main table .tag,
  .app-main table .btn,
  .app-main table .nowrap {
    white-space: nowrap !important;
    overflow-wrap: normal !important;
    word-break: normal !important;
  }

  /* If any header cells were marked nowrap, keep them too */
  .app-main table thead .whitespace-nowrap {
    white-space: nowrap !important;
  }
}

/* Utility for explicit wrapping anywhere (safe outside tables too) */
.break-words, .truncate-soft {
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* Make charts/media never push layout wider than screen */
.app-main canvas,
.app-main img,
.app-main svg {
  max-width: 100%;
  height: auto;
}

@theme inline {
  --radius-sm:calc(var(--radius) - 4px);
  --radius-md:calc(var(--radius) - 2px);
  --radius-lg:var(--radius);
  --radius-xl:calc(var(--radius) + 4px);
  --color-background:var(--background);
  --color-foreground:var(--foreground);
  --color-card:var(--card);
  --color-card-foreground:var(--card-foreground);
  --color-popover:var(--popover);
  --color-popover-foreground:var(--popover-foreground);
  --color-primary:var(--primary);
  --color-primary-foreground:var(--primary-foreground);
  --color-secondary:var(--secondary);
  --color-secondary-foreground:var(--secondary-foreground);
  --color-muted:var(--muted);
  --color-muted-foreground:var(--muted-foreground);
  --color-accent:var(--accent);
  --color-accent-foreground:var(--accent-foreground);
  --color-destructive:var(--destructive);
  --color-border:var(--border);
  --color-input:var(--input);
  --color-ring:var(--ring);
  --color-chart-1:var(--chart-1);
  --color-chart-2:var(--chart-2);
  --color-chart-3:var(--chart-3);
  --color-chart-4:var(--chart-4);
  --color-chart-5:var(--chart-5);
  --color-sidebar:var(--sidebar);
  --color-sidebar-foreground:var(--sidebar-foreground);
  --color-sidebar-primary:var(--sidebar-primary);
  --color-sidebar-primary-foreground:var(--sidebar-primary-foreground);
  --color-sidebar-accent:var(--sidebar-accent);
  --color-sidebar-accent-foreground:var(--sidebar-accent-foreground);
  --color-sidebar-border:var(--sidebar-border);
  --color-sidebar-ring:var(--sidebar-ring);
}

.dark {
  --background:oklch(0.145 0 0);
  --foreground:oklch(0.985 0 0);
  --card:oklch(0.205 0 0);
  --card-foreground:oklch(0.985 0 0);
  --popover:oklch(0.205 0 0);
  --popover-foreground:oklch(0.985 0 0);
  --primary:oklch(0.922 0 0);
  --primary-foreground:oklch(0.205 0 0);
  --secondary:oklch(0.269 0 0);
  --secondary-foreground:oklch(0.985 0 0);
  --muted:oklch(0.269 0 0);
  --muted-foreground:oklch(0.708 0 0);
  --accent:oklch(0.269 0 0);
  --accent-foreground:oklch(0.985 0 0);
  --destructive:oklch(0.704 0.191 22.216);
  --border:oklch(1 0 0 / 10%);
  --input:oklch(1 0 0 / 15%);
  --ring:oklch(0.556 0 0);
  --chart-1:oklch(0.488 0.243 264.376);
  --chart-2:oklch(0.696 0.17 162.48);
  --chart-3:oklch(0.769 0.188 70.08);
  --chart-4:oklch(0.627 0.265 303.9);
  --chart-5:oklch(0.645 0.246 16.439);
  --sidebar:oklch(0.205 0 0);
  --sidebar-foreground:oklch(0.985 0 0);
  --sidebar-primary:oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground:oklch(0.985 0 0);
  --sidebar-accent:oklch(0.269 0 0);
  --sidebar-accent-foreground:oklch(0.985 0 0);
  --sidebar-border:oklch(1 0 0 / 10%);
  --sidebar-ring:oklch(0.556 0 0);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* ===== Responsive table helper ===== */
.table-fluid {
  width: 100%;
  table-layout: fixed;            /* columns shrink to fit */
  border-collapse: collapse;
}
.table-fluid th,
.table-fluid td {
  white-space: normal;
  overflow-wrap: anywhere;
  word-break: break-word;
  vertical-align: top;
}
@media (max-width: 639px) {
  /* hide overflowy headers that push layout */
  .table-fluid thead .hide-sm { display: none; }
  .table-fluid tbody .hide-sm { display: none; }
  /* keep pills/badges on one line */
  .table-fluid .nowrap,
  .table-fluid .inline-flex.rounded-full,
  .table-fluid .badge,
  .table-fluid .tag {
    white-space: nowrap !important;
    word-break: normal !important;
    overflow-wrap: normal !important;
  }
}

/* ==== Content area (light theme) ==== */
/* Scope to the main content wrapper so it won't affect the dark sidebar or the mobile drawer */
.app-main {
  --app-fg: #0A0F2C;     /* primary text */
  --app-muted: #6B7280;  /* secondary text */
  --app-card: #FFFFFF;   /* card bg */
  color: var(--app-fg);
}

/* Ensure common text elements inherit the light color even after hydration */
.app-main :where(p, span, div, li, a, button, label, input, select, textarea) {
  color: inherit;
}

/* Muted helpers you already use in pages */
.app-main .text-muted, 
.app-main .muted {
  color: var(--app-muted) !important;
}

/* Tables: make sure headers and cells use content color unless overridden explicitly */
.app-main table thead th,
.app-main table tbody td {
  color: inherit;
  background-color: transparent;
}

/* Cards that rely on CSS vars */
.app-main .card,
.app-main section {
  background-color: var(--app-card);
}

/* If any utility injected 'text-white' into cells, neutralize it ONLY inside tables in the content area */
.app-main table :where(th, td).text-white {
  color: var(--app-fg) !important;
}
